# F-007. 포스팅 관리

## 1. 기능 개요

### 1.1 목적

완성된 원고를 네이버 블로그/카페에 포스팅한 후, 포스팅된 URL을 등록하여 완료 처리합니다. 포스팅은 사용자가 직접 복사-붙여넣기로 수행하며, 시스템은 URL 등록과 상태 관리를 담당합니다.

### 1.2 핵심 가치

- 포스팅 작업의 완료 상태를 체계적으로 관리
- 포스팅 URL 등록을 통해 성과 추적 연동
- 작업 이력 관리로 생산성 파악

## 2. 권한 체계

각 사용자는 자신의 원고에 대해서만 포스팅 완료 처리를 할 수 있습니다. 관리자는 전체 포스팅 현황을 조회할 수 있습니다.

## 3. 데이터 항목

### 3.1 포스팅 정보

- 포스팅 URL: 네이버 블로그/카페에 게시된 글의 URL입니다.
- 포스팅 플랫폼: 블로그 또는 카페를 구분합니다.
- 포스팅 완료 일시: URL을 등록한 시점입니다.
- 포스팅 키워드: 성과 추적에 사용할 키워드입니다. 원고 생성 시 입력한 키워드를 기본값으로 사용하되, 변경할 수 있습니다.

## 4. 상세 기능 명세

### 4.1 원고 복사

사용자가 편집된 원고를 클립보드에 복사합니다.

동작 방식:
1. 원고 편집 페이지에서 "복사" 버튼을 클릭합니다.
2. 원고 전체(서식 + 이미지 포함)가 클립보드에 복사됩니다.
3. "복사되었습니다" 피드백을 표시합니다.
4. 사용자는 네이버 블로그/카페 편집기에서 Ctrl+V로 붙여넣기 합니다.

### 4.2 포스팅 완료 처리

사용자가 포스팅한 글의 URL을 등록하여 작업을 완료 처리합니다.

접근 권한: 원고 생성자만 수행할 수 있습니다.

동작 방식:
1. 원고 편집 페이지 또는 내 원고 목록에서 "포스팅 완료" 버튼을 클릭합니다.
2. 포스팅 URL 입력 필드가 표시됩니다.
3. 포스팅 플랫폼(블로그/카페)을 선택합니다. URL 형태를 분석하여 자동 선택할 수도 있습니다.
4. 성과 추적에 사용할 키워드를 확인합니다. 원고 생성 시 입력한 키워드가 기본으로 입력되어 있으며, 수정 가능합니다.
5. "완료" 버튼을 클릭하면 원고 상태가 "포스팅 완료"로 변경됩니다.
6. 성과 추적(F-008)이 자동으로 시작됩니다.

예외 처리:
- URL이 비어 있으면 "포스팅 URL을 입력해 주세요"를 표시합니다.
- 유효하지 않은 URL 형식이면 "올바른 URL을 입력해 주세요"를 표시합니다.

## 5. 화면 정보

포스팅 완료 처리 UI는 원고 편집 페이지(S-011)와 내 원고 목록(S-012)에 통합되어 있습니다. 포스팅 완료 버튼 클릭 시 모달 또는 인라인 폼으로 URL 입력, 플랫폼 선택, 키워드 확인을 받습니다.

## 6. API 정보

- POST /api/manuscripts/:id/publish: 포스팅 완료 처리 (URL, 플랫폼, 키워드)
- GET /api/manuscripts/:id/publish-info: 포스팅 정보 조회

## 7. 비즈니스 로직

- 포스팅 완료 처리 시 성과 추적(F-008)이 자동으로 활성화됩니다.
- 포스팅 완료된 원고도 삭제할 수 있습니다. 삭제 시 성과 추적도 중단됩니다.
- 하나의 원고에 대해 하나의 포스팅 URL만 등록할 수 있습니다.

## 8. 연관 기능

- F-006 원고 편집 및 관리: 편집 완료된 원고에 대해 포스팅 처리를 수행합니다.
- F-008 성과 추적: 포스팅 URL 등록 시 자동으로 성과 추적이 시작됩니다.
